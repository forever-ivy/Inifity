# 2026-02-13

- Implemented V5.3 strict-router repair for OpenClaw WhatsApp entry.
- Added markdown skill template: `skills/translation-router/SKILL.md`.
- Added router bridge script: `scripts/skill_whatsapp_router.py`.
- Added installer: `scripts/install_openclaw_translation_skill.sh`.
- Enforced translation reasoning default `OPENCLAW_TRANSLATION_THINKING=high`.
- Pipeline now carries sender/message_id/raw_message_ref and router/token-guard metadata.
- Cron delivery set to `--no-deliver` to remove missing-target noise.
- Verified tests pass: `22/22`.
- Implemented V6.0 strict command flow update: mandatory `new -> (files/text) -> run`.
- Added user-facing status card module: `scripts/skill_status_card.py`.
- Added ClawRAG bridge module: `scripts/skill_clawrag_bridge.py`.
- Switched KB pathing to clawrag-primary with local fallback in pipeline.
- Added spreadsheet translation support with optional `Final.xlsx` artifact generation.
- Added V6 skill lock file: `config/skill-lock.v6.json` and setup installer support.
- Updated docs to V6.0 (`README.md`, `docs/IMPLEMENTATION_NOTES.md`).
- Expanded test suite to 27 tests, all passing.
- Local smoke verified strict-new behavior (`run` blocked before `new`, then `new` + `status` works).
- Fixed critical SQLite I/O issue in strict router path.
- Root cause: `state.sqlite` located under OneDrive CloudStorage and marked `dataless` placeholder.
- Implemented local DB default in `scripts/v4_runtime.py`:
  - if work root is cloud-backed, runtime DB now uses `~/.openclaw/runtime/translation/state.sqlite`
  - env override supported via `OPENCLAW_STATE_DB_PATH`.
- Added installer guard in `scripts/install_openclaw_translation_skill.sh` to persist `OPENCLAW_STATE_DB_PATH` into `.env.v4.local`.
- Live validation: dispatcher `new` succeeded with real work root; local SQLite contains new job row.
- Additional recovery: removed temporary smoke job from local state DB and cleared sender-active mapping to avoid accidental file bundling into test job.
- Verified dispatcher `status` now returns `no_active_job` without SQLite I/O error.
